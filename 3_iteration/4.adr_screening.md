# ADR-2: Сервис отсева кандидатов (screening)
(использован номер 2, потому что как будто номер 1 использован для adr по выбору общего архитектурного стиля)

## Status: Proposed

## Context

К системе были предъявлены следующие требования, и сделаны консерны и замечания, касающиеся отсева кандидатов:
1. Нельзя допускать отказа системы из-за подачи заявки, т.к. это носит негативные репутационные последствия (явное ограничение [US-080]).
2. Компания находится на этапе проверки гипотез.
3. Этот финкционал уникален и ценен. Бизнес хочет продавать его другим компаниям и тестировать больше гипотез (консерн топ-менеджмента).
4. Релизный цикл -- неделя, что отличается от релизного цикла всей системы, который составляет 1 месяц (консерн топ-менеджмента).
5. Отсев является конкурентным преимуществом компании.

Также в ADR-1 (который якобы существует) было принято решение об использовании миркосервисной архитектуры.

## Decision: отдельный сервис с event-driven-архитектурой

### Обоснование выделения в отдельный сервис

Исходя из требований, были выделены следующие характеристики, которыми должен обладать функционал отсева:
- Выскоие значения Agility, Testability и Deployability, т.к. релизный цикл самый короткий в системе.
- Достаточный Scalability, потому что планируется в будущем этот функционал будет продаваться, а значит будет увеличена пользовательская база и нагрузка.
- Легкий Modifiablity, то есть требуется низкий каплинг с другими частями системы. Это потому, что надо легко тестировать гипотезы, и в будущем продавать этот функционал.
- Также для всей системы требуется Availability и fault tolerance, а функционал отсева может сильно навредить всей системе, если будет заддосен.

Исходя из этих характеристик принято решение выделить функционал отсева в отдельный сервис.

### Выбор архитектурного стиля

Задача сервиса -- принять заявку от кандидата и сделать вывод, подходит кандидат или нет.
Это похоже на пайплайн, где алгоритм получает на вход данные (заявку от кандидата),
затем проводит их через несколько фильтров (подбор теста под заявку, верификация решения теста),
а затем выдает финальное решение: ок или не ок.

Но из-за требований высоких Agility, Testability, Deployability, Scalability нельзя выбирать монолитный стиль.
Самым подходящим является event-driven, т.к. он обеспечит хорошую горизонтальную масштабируемость и нужные значения остальных характеристик.

## Alternatives

Можно было бы реализовать этот сервис стилем service-based, но он не дает таких высоких показателей масштабируемости, как event-driven.